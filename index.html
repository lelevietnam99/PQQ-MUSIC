<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üí• PQQ MUSIC</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f4f9;
            display: flex;
            justify-content: center;
            padding-top: 50px;
            margin: 0;
            padding-bottom: 50px; /* Th√™m kho·∫£ng tr·ªëng d∆∞·ªõi c√πng */
        }
        .container {
            background: white;
            width: 90%;
            max-width: 600px;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 20px;
        }
        
        /* PH·∫¶N ƒêI·ªÄU KHI·ªÇN M·ªöI TH√äM */
        .controls-area {
            background: #eef2f3;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-around;
            align-items: center;
            border: 1px solid #ddd;
        }
        .control-item {
            display: flex;
            align-items: center;
            font-weight: 600;
            color: #2c3e50;
            cursor: pointer;
        }
        .control-item input {
            margin-right: 8px;
            transform: scale(1.3);
            cursor: pointer;
        }

        .track {
            display: flex;
            flex-direction: column;
            padding: 15px;
            border-bottom: 1px solid #eee;
            transition: background 0.3s;
        }
        /* Hi·ªáu ·ª©ng khi b√†i h√°t ƒëang ch·∫°y */
        .track.active-track {
            background-color: #e8f8f5;
            border-left: 5px solid #2ecc71;
        }
        .track:last-child {
            border-bottom: none;
        }
        .track-title {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        audio {
            width: 100%;
            outline: none;
        }
        audio::-webkit-media-controls-panel {
            background-color: #f1f3f4;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>üí• PQQ MUSIC</h1>
        
        <div class="controls-area">
            <label class="control-item">
                <input type="checkbox" id="autoNextCheck" checked> 
                T·ª± ƒë·ªông chuy·ªÉn b√†i
            </label>
            <label class="control-item">
                <input type="checkbox" id="shuffleCheck"> 
                Ph√°t ng·∫´u nhi√™n
            </label>
        </div>

        <div class="track">
            <div class="track-title">1. Kh√∫c Xu√¢n ƒê·ªìng M√¥n</div>
            <audio controls>
                <source src="khucxuandongmon.mp3" type="audio/mpeg">
            </audio>
        </div>

        <div class="track">
            <div class="track-title">2. √Ånh Xu√¢n Ph·∫≠t Quang 2</div>
            <audio controls>
                <source src="√ÅNH XU√ÇN PH·∫¨T QUANG 2.mp3" type="audio/mpeg">
            </audio>
        </div>

        <div class="track">
            <div class="track-title">3. √Ånh Xu√¢n Ph·∫≠t Quang</div>
            <audio controls>
                <source src="3√ÅNH XU√ÇN PH·∫¨T QUANG.mp3" type="audio/mpeg">
            </audio>
        </div>

        <div class="track">
            <div class="track-title">4. Xu√¢n V·ªÅ Trong M·∫Øt Ng∆∞·ªùi Th√¢n</div>
            <audio controls>
                <source src="4Xu√¢n V·ªÅ Trong √Ånh M·∫Øt Ng∆∞·ªùi Th√¢n.mp3" type="audio/mpeg">
            </audio>
        </div>

        <div class="track">
            <div class="track-title">5. M·ªôt Ch√©n Tr√† M·ªôt ƒê·ªùi An</div>
            <audio controls>
                <source src="5M·ªôt Ch√©n Tr√† M·ªôt ƒê·ªùi An.mp3" type="audio/mpeg">
            </audio>
        </div>

        <div class="track">
            <div class="track-title">6. H·ªíN V√ï S√ÄI G√íN ‚Äì TP.HCM 2</div>
            <audio controls>
                <source src="6H·ªíN V√ï S√ÄI G√íN ‚Äì TH√ÄNH PH·ªê H·ªí CH√ç MINH 2.mp3" type="audio/mpeg">
            </audio>
        </div>

        <div class="track">
            <div class="track-title">7. H·ªíN V√ï S√ÄI G√íN ‚Äì TP.HCM 1</div>
            <audio controls>
                <source src="7H·ªíN V√ï S√ÄI G√íN ‚Äì TH√ÄNH PH·ªê H·ªí CH√ç MINH 1.mp3" type="audio/mpeg">
            </audio>
        </div>

        <div class="track">
            <div class="track-title">8. H·∫†T C√ÅT GI·ªÆA D√íNG ƒê·ªúI</div>
            <audio controls>
                <source src="8_H·∫†T C√ÅT GI·ªÆA D√íNG ƒê·ªúI.mp3" type="audio/mpeg">
            </audio>
        </div>

        <div class="track">
            <div class="track-title">9. D∆Ø·ªöI B√ìNG T·ª™ BI</div>
            <audio controls>
                <source src="9D∆Ø·ªöI B√ìNG T·ª™ BI.mp3" type="audio/mpeg">
            </audio>
        </div>

        <div class="track">
            <div class="track-title">10. TH√ÅNH TR√ç B√ÅT NH√É</div>
            <audio controls>
                <source src="10TH√ÅNH TR√ç B√ÅT NH√É (1).mp3" type="audio/mpeg">
            </audio>
        </div>

        
    </div>

    <script>
        // L·∫•y t·∫•t c·∫£ th·∫ª audio v√† th·∫ª bao quanh (track)
        const allAudios = document.querySelectorAll('audio');
        const allTracks = document.querySelectorAll('.track');
        
        const autoNextCheck = document.getElementById('autoNextCheck');
        const shuffleCheck = document.getElementById('shuffleCheck');

        // H√†m t·∫Øt t·∫•t c·∫£ c√°c b√†i ƒëang ph√°t (tr·ª´ b√†i hi·ªán t·∫°i)
        function pauseOthers(currentAudio) {
            allAudios.forEach((audio, index) => {
                if (audio !== currentAudio) {
                    audio.pause();
                    audio.currentTime = 0; // Tua v·ªÅ ƒë·∫ßu
                    allTracks[index].classList.remove('active-track'); // B·ªè m√†u n·ªÅn
                }
            });
        }

        // H√†m ph√°t b√†i ti·∫øp theo
        function playNextSong(currentIndex) {
            let nextIndex;

            // Ki·ªÉm tra xem c√≥ ƒëang b·∫≠t ch·∫ø ƒë·ªô Ng·∫´u nhi√™n kh√¥ng
            if (shuffleCheck.checked) {
                // Random m·ªôt s·ªë kh√°c v·ªõi s·ªë hi·ªán t·∫°i
                do {
                    nextIndex = Math.floor(Math.random() * allAudios.length);
                } while (nextIndex === currentIndex && allAudios.length > 1);
            } else {
                // Ch·∫ø ƒë·ªô tu·∫ßn t·ª±: TƒÉng index l√™n 1
                nextIndex = currentIndex + 1;
                // N·∫øu h·∫øt danh s√°ch th√¨ quay l·∫°i b√†i ƒë·∫ßu ti√™n
                if (nextIndex >= allAudios.length) {
                    nextIndex = 0;
                }
            }

            // Ph√°t b√†i m·ªõi
            const nextAudio = allAudios[nextIndex];
            nextAudio.play();
            // Cu·ªôn m√†n h√¨nh t·ªõi b√†i ƒëang h√°t (cho m∆∞·ª£t)
            allTracks[nextIndex].scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        // G·∫Øn s·ª± ki·ªán cho t·ª´ng b√†i h√°t
        allAudios.forEach((audio, index) => {
            
            // 1. Khi b·∫•m Play m·ªôt b√†i
            audio.addEventListener('play', () => {
                pauseOthers(audio); // T·∫Øt c√°c b√†i kh√°c
                allTracks[index].classList.add('active-track'); // ƒê·ªïi m√†u n·ªÅn b√†i ƒëang h√°t
            });

            // 2. Khi m·ªôt b√†i h√°t k·∫øt th√∫c (Ended)
            audio.addEventListener('ended', () => {
                // N·∫øu ch·∫ø ƒë·ªô "T·ª± ƒë·ªông chuy·ªÉn b√†i" ƒë∆∞·ª£c b·∫≠t
                if (autoNextCheck.checked) {
                    playNextSong(index);
                }
            });
        });
    </script>

</body>
</html>

